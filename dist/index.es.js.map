{"version":3,"file":"index.es.js","sources":["../src/DataTableContext.ts","../src/DataTableProvider.tsx","../node_modules/clsx/dist/clsx.mjs","../src/Table.tsx","../src/DataTableTH.tsx","../src/useTableFields.ts","../src/DataTableHead.tsx","../src/ContainedDataTable.tsx","../src/DataTable.tsx","../src/DataTableCell.tsx","../src/ContainedDataTableRow.tsx","../src/DataTableRow.tsx","../src/DataTableTBody.tsx","../src/useTableSort.ts","../src/SortableTableTH.tsx","../src/SortableTableHead.tsx","../src/SortableTableHeadWrapper.tsx","../src/ContainedSortableTable.tsx","../src/SortHelper.tsx","../src/SortableTable.tsx","../src/RowsPerPage.tsx","../src/TablePagination.tsx","../src/DataTableCols.tsx","../src/useField.ts","../src/useTableContext.ts"],"sourcesContent":["import {createContext} from \"react\";\r\nimport type {DataTableField, SortProps} from \"./types\";\r\n\r\nexport interface TableContextData<T = unknown> {\r\n    fields: DataTableField<T>[];\r\n    setFields: (next: DataTableField<T>[] | ((prev: DataTableField<T>[]) => DataTableField<T>[])) => void;\r\n    sort: SortProps<T>|null;\r\n    setSort: (next: SortProps<T> | null | ((prev:SortProps<T>|null) => SortProps<T>|null )) => void;\r\n    getField: (key: string | number) => DataTableField<T> | undefined;\r\n    updateField: (key: string | number, arg: Partial<DataTableField<T>>) => void;\r\n}\r\n\r\nexport const DataTableContext = createContext<TableContextData<unknown> | null>(null)\r\n","import {type ReactNode, useCallback, useMemo, useState} from \"react\";\r\nimport type {DataTableField, SortProps} from \"./types\";\r\nimport {DataTableContext, type TableContextData} from \"./DataTableContext\";\r\n\r\nexport interface TableProviderProps<T = unknown> {\r\n    initialFields: DataTableField<T>[];\r\n    initialSort?: SortProps<T>|null;\r\n    children: ReactNode;\r\n}\r\n\r\nexport default function DataTableProvider<T = unknown>({\r\n                                                           children,\r\n                                                           initialFields = [],\r\n                                                           initialSort = null,\r\n                                                       }: TableProviderProps<T>) {\r\n    const [fields, setFieldsState] = useState<DataTableField<T>[]>(initialFields);\r\n    const [sort, setProviderSort] = useState<SortProps<T> | null>(initialSort);\r\n\r\n    const setFields = useCallback(\r\n        (fields: DataTableField<T>[] | ((prev: DataTableField<T>[]) => DataTableField<T>[])) => {\r\n            setFieldsState(fields)\r\n        }, []);\r\n\r\n    const setSort = useCallback(\r\n        (sort: SortProps<T> | null | ((sort:SortProps<T>|null) => SortProps<T> | null)) => {\r\n            setProviderSort(sort)\r\n        }, [])\r\n\r\n\r\n    const updateField = useCallback((key: string | number, arg: Partial<DataTableField<T>>) => {\r\n        const nextState = fields.map(field => {\r\n            if (field.id === key) {\r\n                return {...field, ...arg}\r\n            }\r\n            return field;\r\n        });\r\n        setFieldsState(nextState);\r\n    }, [fields])\r\n\r\n    const getField = useCallback((key: string | number) => fields.find(field => field.id === key), [fields]);\r\n\r\n\r\n    const value = useMemo<TableContextData<T>>(\r\n        () => ({\r\n            fields,\r\n            setFields,\r\n            sort,\r\n            setSort,\r\n            getField,\r\n            updateField\r\n        }),\r\n        [fields, setFields, sort, setSort, updateField, getField]\r\n    )\r\n\r\n    return (\r\n        <DataTableContext.Provider value={value as unknown as TableContextData<unknown>}>\r\n            {children}\r\n        </DataTableContext.Provider>\r\n    )\r\n}\r\nDataTableProvider.displayName = 'DataTableProvider';\r\n\r\n","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","import {type RefObject, type TableHTMLAttributes} from 'react';\r\nimport styled from \"@emotion/styled\";\r\nimport type {DataTableProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\n\r\nexport interface StyledTableProps extends TableHTMLAttributes<HTMLTableElement>, Pick<DataTableProps, 'sticky' | 'responsive'> {\r\n    ref?: RefObject<HTMLTableElement>;\r\n}\r\n\r\nconst StyledTable = styled.table<StyledTableProps>`\r\n    --table-sticky-top: ${props => props.sticky ? '0' : undefined};\r\n\r\n    thead {\r\n        tr:nth-of-type(1) td,\r\n        tr:nth-of-type(1) th {\r\n            top: var(--table-sticky-top, unset);\r\n            position: ${props => props.sticky ? \"sticky\" : \"unset\"};\r\n            z-index: ${props => props.sticky ? 10 : \"unset\"};\r\n            background: ${props => props.sticky ? \"linear-gradient(var(--bs-table-bg) 75%, rgba(var(--bs-secondary-bg-rgb), 0.9))\" : \"unset\"};\r\n        }\r\n    }\r\n`\r\n\r\n\r\nexport default function Table({\r\n                                  sticky,\r\n                                  responsive,\r\n                                  children,\r\n                                  className,\r\n                                  ref,\r\n                                  ...rest\r\n                              }: StyledTableProps) {\r\n    if (responsive) {\r\n        const _className = clsx(className, {\r\n            'table-responsive': responsive === true,\r\n            [`table-responsive-${responsive}`]: responsive !== true,\r\n        })\r\n        return (\r\n            <div className={_className}>\r\n                <StyledTable ref={ref} {...rest}>{children}</StyledTable>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <StyledTable className={className} sticky={sticky} ref={ref} {...rest}>{children}</StyledTable>\r\n    )\r\n}\r\n\r\n","import type {DataTableTHProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\nexport default function DataTableTH<T = unknown>({\r\n                                      field,\r\n                                      className,\r\n                                      children,\r\n                                      ...rest\r\n                                  }: DataTableTHProps<T>) {\r\n    if (field.visible === false) {\r\n        return null;\r\n    }\r\n    const thClassName = clsx({[`text-${field.align}`]: !!field.align}, className);\r\n    return (\r\n        <th className={thClassName} scope=\"col\" {...rest}>\r\n            {children ?? field.title}\r\n        </th>\r\n    )\r\n}\r\nDataTableTH.displayName = 'DataTableTH';\r\n","import {useContext} from \"react\";\r\nimport {DataTableContext, type TableContextData} from \"./DataTableContext\";\r\n\r\n/**\r\n * Returns a tuple containing the fields and a function to update them.\r\n * @returns [fields, setFields]\r\n */\r\nexport function useTableFields<T = unknown>(): [\r\n    fields: TableContextData<T>['fields'],\r\n    setFields: TableContextData<T>['setFields']\r\n] {\r\n    const context = useContext(DataTableContext) as TableContextData<T>;\r\n    if (!context) {\r\n        throw new Error('useTableContext must be used within a DataTableProvider');\r\n    }\r\n    return [\r\n        context.fields,\r\n        context.setFields\r\n    ];\r\n}\r\n","import {type TableHTMLAttributes} from \"react\";\r\nimport DataTableTH from \"./DataTableTH\";\r\nimport clsx from \"clsx\";\r\nimport {useTableFields} from \"./useTableFields\";\r\n\r\n\r\nexport default function DataTableHead<T = unknown>({...rest}: TableHTMLAttributes<HTMLTableSectionElement>) {\r\n    const [fields] = useTableFields<T>()\r\n    return (\r\n        <thead {...rest}>\r\n        <tr>\r\n            {fields\r\n                .map((field, index) => (\r\n                <DataTableTH key={String(field.id ?? index)}\r\n                             {...field.thProps}\r\n                             field={field}\r\n                             className={clsx(\r\n                                 typeof field.className === 'function'\r\n                                     ? {[`text-${field.align}`]: !!field.align}\r\n                                     : field.className\r\n                             )}/>\r\n            ))}\r\n        </tr>\r\n        </thead>\r\n    )\r\n}\r\nDataTableHead.displayName = 'DataTableHead';\r\n","import type {DataTableProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\nimport Table from \"./Table\";\r\nimport {DataTableCols, DataTableTBody} from \"./index\";\r\nimport DataTableHead from \"./DataTableHead\";\r\n\r\nexport default function ContainedDataTable<T = unknown>({\r\n                                                              className,\r\n                                                              size,\r\n                                                              responsive,\r\n                                                              sticky,\r\n                                                              data,\r\n                                                              keyField,\r\n                                                              rowClassName,\r\n                                                              renderRow,\r\n                                                              onSelectRow,\r\n                                                              selected,\r\n                                                              tableHeadProps,\r\n                                                              children,\r\n                                                              tfoot,\r\n                                                              ...rest\r\n                                                          }: Omit<DataTableProps<T>, 'fields'>) {\r\n    const tableClassName = clsx('table', className, {\r\n        [`table-${size}`]: !!size,\r\n    })\r\n\r\n    return (\r\n        <Table sticky={sticky} responsive={responsive} className={tableClassName} {...rest}>\r\n            <DataTableCols/>\r\n            <DataTableHead {...tableHeadProps}/>\r\n            {!!data.length && (\r\n                <DataTableTBody data={data} keyField={keyField} rowClassName={rowClassName}\r\n                                renderRow={renderRow}\r\n                                onSelectRow={onSelectRow} selected={selected}/>\r\n            )}\r\n            {children}\r\n            {tfoot}\r\n        </Table>\r\n    )\r\n}\r\nContainedDataTable.displayName = 'ContainedDataTable';\r\n","import type {DataTableProps} from \"./types\";\r\nimport DataTableProvider from \"./DataTableProvider\";\r\nimport ContainedDataTable from \"./ContainedDataTable\";\r\n\r\n\r\nexport default function DataTable<T = unknown>({\r\n                                    fields,\r\n                                    ...rest\r\n                                }: DataTableProps<T>) {\r\n    return (\r\n        <DataTableProvider initialFields={fields}>\r\n            <ContainedDataTable {...rest}/>\r\n        </DataTableProvider>\r\n    )\r\n}\r\nDataTable.displayName = 'DataTable';\r\n","import {createElement, type ReactNode} from 'react';\r\nimport type {DataTableCellProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\n\r\n\r\nexport default function DataTableCell<T = unknown>({field, row, className, as, ...rest}: DataTableCellProps<T>) {\r\n    if (field.visible === false) {\r\n        return null;\r\n    }\r\n    const cellClassName = clsx(\r\n        {[`text-${field.align}`]: !!field.align},\r\n        className,\r\n        typeof field.className === 'function' ? field.className(row) : field.className\r\n    );\r\n    return createElement(\r\n        (as ?? field.as) ?? 'td',\r\n        {\r\n            className: cellClassName,\r\n            scope: (as ?? field.as) === 'th' ? 'row' : undefined,\r\n            colSpan: field.colSpan,\r\n            ...field.cellProps,\r\n            ...rest\r\n        },\r\n        (row[field.field] === undefined && !field.render)\r\n            ? null\r\n            : (\r\n                typeof field.render === 'function'\r\n                    ? field.render(row)\r\n                    : row[field.field] as ReactNode\r\n            )\r\n    )\r\n}\r\nDataTableCell.displayName = 'DataTableCell';\r\n","import {type MouseEvent} from 'react';\r\nimport type {DataTableRowProps} from \"./types\";\r\nimport DataTableCell from \"./DataTableCell\";\r\nimport clsx from \"clsx\";\r\nimport {useTableFields} from \"./useTableFields\";\r\n\r\n\r\nexport default function ContainedDataTableRow<T = unknown>({\r\n                                       className,\r\n                                       rowClassName,\r\n                                       selected,\r\n                                       row,\r\n                                       trRef,\r\n                                       onClick,\r\n                                       ...rest\r\n                                   }: Omit<DataTableRowProps<T>, 'fields'>) {\r\n    const [fields] = useTableFields<T>()\r\n    const clickHandler = (ev: MouseEvent<HTMLTableRowElement>) => {\r\n        onClick?.(row, ev)\r\n    }\r\n\r\n    const _className = typeof rowClassName === 'function' ? rowClassName(row) : rowClassName;\r\n    if (!row) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <tr ref={trRef}\r\n            className={clsx({'table-active': selected}, className, _className)}\r\n            onClick={clickHandler}\r\n            {...rest}>\r\n            {fields\r\n                .map((field, index) => (\r\n                    <DataTableCell key={String(field?.id ?? index)} field={field} row={row}/>\r\n                ))}\r\n        </tr>\r\n    )\r\n}\r\nContainedDataTableRow.displayName = 'ContainedDataTableRow';\r\n","import {type MouseEvent} from 'react';\r\nimport type {DataTableRowProps} from \"./types\";\r\nimport DataTableCell from \"./DataTableCell\";\r\nimport clsx from \"clsx\";\r\n\r\nexport default function DataTableRow<T = unknown>({\r\n                                                      fields,\r\n                                                      className,\r\n                                                      rowClassName,\r\n                                                      selected,\r\n                                                      row,\r\n                                                      trRef,\r\n                                                      onClick,\r\n                                                      ...rest\r\n                                                  }: DataTableRowProps<T>) {\r\n    const clickHandler = (ev: MouseEvent<HTMLTableRowElement>) => {\r\n        onClick?.(row, ev)\r\n    }\r\n\r\n    const _className = typeof rowClassName === 'function' ? rowClassName(row) : rowClassName;\r\n    if (!row) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <tr ref={trRef}\r\n            className={clsx({'table-active': selected}, className, _className)}\r\n            onClick={clickHandler}\r\n            {...rest}>\r\n            {fields\r\n                .map((field, index) => (\r\n                    <DataTableCell key={String(field?.id ?? index)} field={field} row={row}/>\r\n                ))}\r\n        </tr>\r\n    )\r\n}\r\nDataTableRow.displayName = 'DataTableRow';\r\n","import ContainedDataTableRow from \"./ContainedDataTableRow\";\r\nimport type {DataTableTBodyProps} from \"./types\";\r\n\r\n\r\nexport default function DataTableTBody<T = unknown>({\r\n                                         data,\r\n                                         keyField,\r\n                                         rowClassName,\r\n                                         renderRow,\r\n                                         onSelectRow,\r\n                                         selected = '',\r\n                                         children,\r\n                                         ...rest\r\n                                     }: DataTableTBodyProps<T>) {\r\n    return (\r\n        <tbody {...rest}>\r\n        {data.map(row => {\r\n            const keyValue = String(typeof keyField === \"function\" ? keyField(row) : row[keyField]);\r\n            const isSelected = typeof selected === 'function' ? selected(row) : keyValue === selected;\r\n            if (renderRow) {\r\n                return renderRow(row);\r\n            }\r\n            return (\r\n                <ContainedDataTableRow key={keyValue} onClick={onSelectRow}\r\n                                       rowClassName={rowClassName}\r\n                                       row={row} selected={isSelected}/>\r\n            )\r\n        })}\r\n        {children}\r\n        </tbody>\r\n    )\r\n}\r\nDataTableTBody.displayName = 'DataTableTBody';\r\n","import {useContext} from \"react\";\r\nimport {DataTableContext, type TableContextData} from \"./DataTableContext\";\r\n\r\n/**\r\n * Returns a tuple containing the currentSort and a function to update the sort.\r\n * @returns [sort, setSort]\r\n */\r\nexport function useTableSort<T = unknown>(): [\r\n    sort: TableContextData<T>['sort'],\r\n    setSort: TableContextData<T>['setSort']\r\n] {\r\n    const context = useContext(DataTableContext) as TableContextData<T>;\r\n    if (!context) {\r\n        throw new Error('useTableSort must be used within a DataTableProvider');\r\n    }\r\n    return [\r\n        context.sort,\r\n        context.setSort\r\n    ];\r\n}\r\n","import DataTableTH from \"./DataTableTH\";\r\nimport type {SortableTableTHProps, UIFlexAlign} from \"./types\";\r\nimport styled from '@emotion/styled';\r\nimport clsx from \"clsx\";\r\n\r\nconst flexJustifyContent = (align?: UIFlexAlign) => {\r\n    if (!align) {\r\n        return 'flex-start';\r\n    }\r\n    switch (align) {\r\n        case 'end':\r\n            return 'flex-end';\r\n        default:\r\n            return 'center';\r\n    }\r\n}\r\n\r\ntype FieldTitleProps = {\r\n    sorted?: boolean;\r\n    align?: UIFlexAlign;\r\n};\r\nconst FieldTitle = styled.div<FieldTitleProps>`\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: ${props => props.align === 'end' ? 'row-reverse' : 'row'};\r\n    justify-content: ${props => flexJustifyContent(props.align)};\r\n\r\n    .sort-icon {\r\n        flex-grow: ${props => props.align === 'end' ? '1' : '0'};\r\n        opacity: ${props => props.sorted ? 1 : 0};\r\n    }\r\n\r\n    &:hover .sort-icon {\r\n        color: ${props => props.sorted ? 'unset' : 'var(--bs-primary)'};\r\n        opacity: 0.75;\r\n        transition: opacity 0.2s;\r\n    }\r\n`\r\n\r\nexport default function SortableTableTH<T = unknown>({\r\n                                          field,\r\n                                          sorted,\r\n                                          ascending,\r\n                                          className,\r\n                                          onClick\r\n                                      }: SortableTableTHProps<T>) {\r\n    if (field.visible === false) {\r\n        return null;\r\n    }\r\n    if (!field.sortable) {\r\n        return (<DataTableTH field={field} className={className}/>)\r\n    }\r\n\r\n    const {className: _thClassName, ...thProps} = field.thProps ?? {};\r\n    const thClassName = clsx(\r\n        className,\r\n        _thClassName,\r\n        {[`text-${field.align}`]: !!field.align}\r\n    );\r\n\r\n    const clickHandler = () => {\r\n        onClick({field: field.field, ascending: !sorted ? true : !ascending});\r\n    }\r\n\r\n    const iconClassName = {\r\n        'bi-arrow-down': ascending,\r\n        'bi-arrow-up': !ascending,\r\n    }\r\n\r\n    return (\r\n        <th {...thProps} className={clsx(\"sortable\", thClassName)} scope=\"col\" onClick={clickHandler}>\r\n            <FieldTitle sorted={sorted} align={field.align}>\r\n                <div className=\"field-title\">{field.title}</div>\r\n                <div className={clsx('me-1 sort-icon', iconClassName)}/>\r\n            </FieldTitle>\r\n        </th>\r\n    )\r\n}\r\nSortableTableTH.displayName = 'SortableTableTH';\r\n","import SortableTableTH from \"./SortableTableTH\";\r\nimport type {SortableTableHeadProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\nimport {useTableFields} from \"./useTableFields\";\r\nimport {useTableSort} from \"./useTableSort\";\r\n\r\nexport default function SortableTableHead<T = unknown>({\r\n                                            onChangeSort,\r\n                                        }: SortableTableHeadProps<T>) {\r\n    const [fields] = useTableFields<T>()\r\n    const [sort] = useTableSort<T>();\r\n    return (\r\n        <thead>\r\n        <tr>\r\n            {fields\r\n                .map((tableField, index) => (\r\n                <SortableTableTH<T> key={index} field={tableField}\r\n                                    sorted={sort?.field === tableField.field} ascending={sort?.ascending}\r\n                                    className={clsx(\r\n                                        typeof tableField.className === 'function'\r\n                                            ? {[`text-${tableField.align}`]: !!tableField.align}\r\n                                            : tableField.className\r\n                                    )} onClick={onChangeSort}/>\r\n            ))}\r\n        </tr>\r\n        </thead>\r\n    )\r\n}\r\n\r\nSortableTableHead.displayName = 'SortableTableHead';\r\n\r\n","import {useTableFields} from \"./useTableFields\";\r\nimport {useTableSort} from \"./useTableSort\";\r\nimport SortableTableHead from \"./SortableTableHead\";\r\nimport type {SortProps} from \"./types\";\r\n\r\nexport interface SortableTableHeadWrapperProps<T = unknown> {\r\n    onChangeSort: (sort: SortProps<T>) => void;\r\n}\r\n\r\nexport default function SortableTableHeadWrapper<T = unknown>({\r\n                                                                  onChangeSort,\r\n                                                              }: SortableTableHeadWrapperProps<T>) {\r\n    const [fields] = useTableFields<T>()\r\n    const [sort] = useTableSort<T>();\r\n\r\n    return (\r\n        <SortableTableHead fields={fields} currentSort={sort} onChangeSort={onChangeSort} />\r\n    )\r\n}\r\nSortableTableHeadWrapper.displayName = 'SortableTableHeadWrapper';\r\n","import type {SortableTableProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\nimport Table from \"./Table\";\r\nimport {DataTableCols, DataTableTBody} from \"./index\";\r\nimport SortableTableHeadWrapper from \"./SortableTableHeadWrapper\";\r\n\r\nexport default function ContainedSortableTable<T = unknown>({\r\n                                                       className,\r\n                                                       size,\r\n                                                       responsive,\r\n                                                       sticky,\r\n                                                       data,\r\n                                                       keyField,\r\n                                                       rowClassName,\r\n                                                       renderRow,\r\n                                                       onSelectRow,\r\n                                                       selected,\r\n                                                       tableHeadProps,\r\n                                                       children,\r\n                                                       tfoot,\r\n                                                       onChangeSort,\r\n                                                       ...rest\r\n                                                   }: Omit<SortableTableProps<T>, 'fields' | 'currentSort'>) {\r\n    const tableClassName = clsx('table', className, {\r\n        [`table-${size}`]: !!size,\r\n    })\r\n\r\n    return (\r\n        <Table className={tableClassName} responsive={responsive} sticky={sticky} {...rest}>\r\n            <DataTableCols/>\r\n            <SortableTableHeadWrapper onChangeSort={onChangeSort} {...tableHeadProps}/>\r\n            {!!data.length && (\r\n                <DataTableTBody data={data} keyField={keyField} rowClassName={rowClassName}\r\n                                renderRow={renderRow}\r\n                                onSelectRow={onSelectRow} selected={selected}/>\r\n            )}\r\n            {children}\r\n            {tfoot}\r\n        </Table>\r\n    )\r\n}\r\nContainedSortableTable.displayName = 'ContainedSortableTable';\r\n","import type {SortProps} from \"./types\";\r\nimport {useTableSort} from \"./useTableSort\";\r\nimport {useEffect} from \"react\";\r\n\r\nexport interface StandaloneSortHelperProps<T = unknown> {\r\n    nextSort: SortProps<T>\r\n}\r\nexport function SortHelper<T = unknown>({nextSort}:StandaloneSortHelperProps<T>) {\r\n    const [, setNextSort] = useTableSort<T>();\r\n    useEffect(() => {\r\n        console.log('setNextSort', nextSort);\r\n        setNextSort(nextSort);\r\n    }, [nextSort, setNextSort]);\r\n    return null;\r\n}\r\n","import type {SortableTableProps} from \"./types\";\r\nimport DataTableProvider from \"./DataTableProvider\";\r\nimport ContainedSortableTable from \"./ContainedSortableTable\";\r\nimport {SortHelper} from \"./SortHelper\";\r\n\r\n\r\nexport default function SortableTable<T = unknown>({\r\n                                                       fields,\r\n                                                       currentSort,\r\n                                                       ...rest\r\n                                                   }: SortableTableProps<T>) {\r\n    return (\r\n        <DataTableProvider initialFields={fields} initialSort={currentSort}>\r\n            <SortHelper nextSort={currentSort}/>\r\n            <ContainedSortableTable {...rest}/>\r\n        </DataTableProvider>\r\n    )\r\n}\r\n\r\nSortableTable.displayName = 'SortableTable';\r\n","import {type ChangeEvent, useId} from 'react';\r\nimport type {RowsPerPageProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\n\r\nconst defaultRowsPerPageValues: number[] = [10, 25, 50, 100, 250, 500, 1000];\r\n\r\nexport default function RowsPerPage({\r\n                         value,\r\n                         pageValues = defaultRowsPerPageValues,\r\n                         size,\r\n                         label,\r\n                         className,\r\n                         onChange,\r\n                         ...rest\r\n                     }: RowsPerPageProps) {\r\n    const id = useId();\r\n    const changeHandler = (ev: ChangeEvent<HTMLSelectElement>) => onChange(Number(ev.target.value));\r\n    const selectClassName = className ?? clsx('form-select', {[`form-select-${size}`]: !!size});\r\n    const inputGroupClassName = clsx('input-group', {\r\n        [`input-group-${size}`]: !!size,\r\n    })\r\n\r\n    return (\r\n        <div className={inputGroupClassName} key={value}>\r\n            <label className=\"input-group-text\" htmlFor={id}>{label ?? 'Rows'}</label>\r\n            <select className={selectClassName} id={id}\r\n                    value={value} onChange={changeHandler} {...rest}>\r\n                {pageValues.map(value => (\r\n                    <option key={value} value={value}>{value}</option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    )\r\n}\r\nRowsPerPage.displayName = 'RowsPerPage';\r\n","import RowsPerPage from \"./RowsPerPage\";\r\nimport type {TablePaginationProps} from \"./types\";\r\nimport clsx from \"clsx\";\r\n\r\nexport default function TablePagination({\r\n                             page,\r\n                             rowsPerPage,\r\n                             onChangePage,\r\n                             count,\r\n                             size,\r\n                             showFirst,\r\n                             showLast,\r\n                             className,\r\n                             rowsPerPageProps,\r\n                             ...rest\r\n                         }: TablePaginationProps) {\r\n\r\n    const first = count === 0 ? 0 : (page * rowsPerPage) + 1;\r\n    const last = Math.min(page * rowsPerPage + rowsPerPage, count);\r\n    const lastPage = rowsPerPage === 0 ? 0 : Math.floor((count - 1) / rowsPerPage);\r\n\r\n    const buttonClassName = clsx(\"btn btn-link\", {[`btn-${size}`]: !!size});\r\n\r\n    return (\r\n        <div className={clsx(\"row g-3 justify-content-end\", className)} {...rest}>\r\n            {!!rowsPerPageProps && (\r\n                <div className=\"col-auto\">\r\n                    <RowsPerPage {...rowsPerPageProps} value={rowsPerPage} size={size}/>\r\n                </div>\r\n            )}\r\n            <div className=\"col-auto\">\r\n                <div className=\"row g-3 flex-nowrap align-items-baseline\">\r\n                    <div className=\"col-auto\">\r\n                        {first}-{last} of {count}\r\n                    </div>\r\n                    {showFirst && (\r\n                        <div className=\"col-auto\">\r\n                            <button className={buttonClassName} disabled={page === 0}\r\n                                    onClick={() => onChangePage(0)} aria-label=\"First page\">\r\n                                <span className=\"bi-chevron-bar-left\" aria-hidden=\"true\"/>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                    <div className=\"col-auto\">\r\n                        <button className={buttonClassName} disabled={page === 0}\r\n                                onClick={() => onChangePage(page - 1)} aria-label=\"Previous page\">\r\n                            <span className=\"bi-chevron-left\" aria-hidden=\"true\"/>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"col-auto\">\r\n                        <button className={buttonClassName} disabled={page >= lastPage}\r\n                                onClick={() => onChangePage(page + 1)} aria-label=\"Next page\">\r\n                            <span className=\"bi-chevron-right\" aria-hidden=\"true\"/>\r\n                        </button>\r\n                    </div>\r\n                    {showLast && (\r\n                        <div className=\"col-auto\">\r\n                            <button className={buttonClassName} disabled={page >= lastPage}\r\n                                    onClick={() => onChangePage(lastPage)} aria-label=\"Last page\">\r\n                                <span className=\"bi-chevron-bar-right\" aria-hidden=\"true\"/>\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nTablePagination.displayname = 'TablePagination';\r\n","import {useTableFields} from \"./useTableFields\";\r\n\r\nexport default function DataTableCols<T = unknown>() {\r\n    const [fields] = useTableFields<T>()\r\n    return (\r\n        <colgroup>\r\n            {fields\r\n                .filter(field => field.visible !== false)\r\n                .map((field, index) => (\r\n                    <col key={index}\r\n                         className={field.colClassName}\r\n                         span={field.colSpan ?? 1}/>\r\n                ))}\r\n        </colgroup>\r\n    )\r\n}\r\nDataTableCols.displayName = 'DataTableCols';\r\n\r\n","import type {DataTableField} from \"./types\";\r\nimport {useContext} from \"react\";\r\nimport {DataTableContext, type TableContextData} from \"./DataTableContext\";\r\n\r\nexport type UseFieldArg<T = unknown> = keyof T & ((string | number) & {})\r\nexport function useField<T = unknown>(key: UseFieldArg<T>): [\r\n    field:DataTableField<T>|null,\r\n    updateField: (key: string|number, arg: Partial<DataTableField<T>>) => void\r\n] {\r\n    const context = useContext(DataTableContext) as TableContextData<T>;\r\n    if (!context) {\r\n        throw new Error('useField must be used within a DataTableProvider');\r\n    }\r\n\r\n    return [\r\n        context.fields.find(field => field.id === key) ?? null,\r\n        context.updateField,\r\n    ]\r\n}\r\n","import {useContext} from \"react\";\r\nimport {DataTableContext, type TableContextData} from \"./DataTableContext\";\r\n\r\nexport function useTableContext<T = unknown>():TableContextData<T> {\r\n    const context = useContext(DataTableContext) as TableContextData<T>;\r\n    if (!context) {\r\n        throw new Error('useTableContext must be used within a DataTableProvider');\r\n    }\r\n    return context;\r\n}\r\n"],"names":["DataTableContext","createContext","DataTableProvider","children","initialFields","initialSort","fields","setFieldsState","useState","sort","setProviderSort","setFields","useCallback","setSort","updateField","key","arg","nextState","field","getField","value","useMemo","jsx","r","e","t","f","o","clsx","StyledTable","styled","props","Table","sticky","responsive","className","ref","rest","_className","DataTableTH","thClassName","useTableFields","context","useContext","DataTableHead","index","ContainedDataTable","size","data","keyField","rowClassName","renderRow","onSelectRow","selected","tableHeadProps","tfoot","tableClassName","DataTableCols","DataTableTBody","DataTable","DataTableCell","row","as","cellClassName","createElement","ContainedDataTableRow","trRef","onClick","clickHandler","ev","DataTableRow","jsxs","keyValue","isSelected","useTableSort","flexJustifyContent","align","FieldTitle","SortableTableTH","sorted","ascending","_thClassName","thProps","iconClassName","SortableTableHead","onChangeSort","tableField","SortableTableHeadWrapper","ContainedSortableTable","SortHelper","nextSort","setNextSort","useEffect","SortableTable","currentSort","defaultRowsPerPageValues","RowsPerPage","pageValues","label","onChange","id","useId","changeHandler","selectClassName","inputGroupClassName","TablePagination","page","rowsPerPage","onChangePage","count","showFirst","showLast","rowsPerPageProps","first","last","lastPage","buttonClassName","useField","useTableContext"],"mappings":"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","x_google_ignoreList":[2]}